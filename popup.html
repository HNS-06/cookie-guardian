<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cookie Guardian</title>
    <link rel="stylesheet" href="popup.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="logo">
                <i class="fas fa-cookie-bite"></i>
                <h1>Cookie Guardian</h1>
            </div>
            <div class="status-indicator" id="statusIndicator">
                <span class="status-dot active"></span>
                <span class="status-text">Active</span>
            </div>
        </div>

        <!-- Quick Stats -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon danger">
                    <i class="fas fa-clock"></i>
                </div>
                <div class="stat-info">
                    <span class="stat-value" id="expiringSoon">0</span>
                    <span class="stat-label">Expiring Soon</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon warning">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <div class="stat-info">
                    <span class="stat-value" id="protectedSites">0</span>
                    <span class="stat-label">Protected Sites</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon success">
                    <i class="fas fa-cookie"></i>
                </div>
                <div class="stat-info">
                    <span class="stat-value" id="totalCookies">0</span>
                    <span class="stat-label">Total Cookies</span>
                </div>
            </div>
        </div>

        <!-- Visual Cookie Jar -->
        <div class="section">
            <div class="section-header">
                <h2><i class="fas fa-cookie-bite"></i> Active Cookie Jar</h2>
                <button class="btn-icon" id="refreshBtn" title="Refresh">
                    <i class="fas fa-sync-alt"></i>
                </button>
            </div>
            <div class="cookie-jar" id="cookieJar">
                <!-- Cookies will be dynamically inserted here -->
                <div class="empty-state">
                    <i class="fas fa-cookie"></i>
                    <p>No active cookies for this site</p>
                </div>
            </div>
        </div>

        <!-- Cookie Categories -->
        <div class="section">
            <h2><i class="fas fa-layer-group"></i> Cookie Categories</h2>
            <div class="categories-grid" id="categoriesGrid">
                <!-- Categories will be dynamically loaded -->
                <div class="empty-state">
                    <i class="fas fa-tags"></i>
                    <p>Loading categories...</p>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="section">
            <h2><i class="fas fa-bolt"></i> Quick Actions</h2>
            <div class="actions-grid">
                <button class="action-btn danger" id="sanitizeBtn">
                    <i class="fas fa-broom"></i>
                    <span>Sanitize Non-Essential</span>
                </button>
                <button class="action-btn warning" id="extendBtn">
                    <i class="fas fa-plus-circle"></i>
                    <span>Extend 1 Hour</span>
                </button>
                <button class="action-btn success" id="encryptBtn">
                    <i class="fas fa-lock"></i>
                    <span>Encrypt Sensitive</span>
                </button>
                <button class="action-btn info" id="auditBtn">
                    <i class="fas fa-history"></i>
                    <span>View Audit Log</span>
                </button>
                <button class="action-btn secondary" id="privacyReportBtn">
                    <i class="fas fa-chart-pie"></i>
                    <span>Privacy Report</span>
                </button>
                <button class="action-btn secondary" id="whitelistBtn">
                    <i class="fas fa-check-circle"></i>
                    <span>Manage Lists</span>
                </button>
            </div>
        </div>

        <!-- Current Site Rules -->
        <div class="section">
            <div class="section-header">
                <h2><i class="fas fa-cogs"></i> Current Site Rules</h2>
                <button class="btn-text" id="editRulesBtn">
                    <i class="fas fa-edit"></i> Edit
                </button>
            </div>
            <div class="rules-list" id="currentRules">
                <div class="rule-item">
                    <span class="rule-name">Default Rule</span>
                    <span class="rule-timer">30 minutes</span>
                </div>
            </div>
        </div>

        <!-- Sync & Backup -->
        <div class="section">
            <h2><i class="fas fa-cloud"></i> Sync & Backup</h2>
            <div class="sync-status">
                <div class="sync-info">
                    <i class="fas fa-cloud" id="syncIcon"></i>
                    <div>
                        <span class="sync-text" id="syncStatus">Sync Disabled</span>
                        <span class="sync-time" id="lastSync">Never</span>
                    </div>
                </div>
                <div class="sync-actions">
                    <button class="btn-icon" id="backupBtn" title="Backup">
                        <i class="fas fa-download"></i>
                    </button>
                    <button class="btn-icon" id="restoreBtn" title="Restore">
                        <i class="fas fa-upload"></i>
                    </button>
                    <button class="btn-text" id="toggleSyncBtn">
                        Enable Sync
                    </button>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <button class="btn-secondary" id="optionsBtn">
                <i class="fas fa-sliders-h"></i> Settings
            </button>
            <div class="version">v1.0.1</div>
        </div>
    </div>

    <!-- Templates -->
    <template id="cookieTemplate">
        <div class="cookie-item">
            <div class="cookie-header">
                <span class="cookie-name"></span>
                <div class="cookie-actions">
                    <button class="btn-icon-small" title="Delete Cookie">
                        <i class="fas fa-trash"></i>
                    </button>
                    <button class="btn-icon-small" title="Extend Timer">
                        <i class="fas fa-plus"></i>
                    </button>
                    <button class="btn-icon-small" title="View Details">
                        <i class="fas fa-info"></i>
                    </button>
                </div>
            </div>
            <div class="cookie-info">
                <span class="cookie-domain"></span>
                <span class="cookie-expiry"></span>
                <span class="cookie-category"></span>
            </div>
            <div class="cookie-timer">
                <div class="timer-bar">
                    <div class="timer-progress"></div>
                </div>
                <span class="timer-text"></span>
            </div>
        </div>
    </template>

    <script src="categories.js"></script>
    <script src="encryption.js"></script>
    <script src="sync-manager.js"></script>
    <script src="badge-manager.js"></script>
    <script src="utils.js"></script>
    <script src="popup.js"></script>
</body>
</html>